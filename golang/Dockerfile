FROM golang
MAINTAINER marion "zhengyi@wanpinghui.com"

RUN git clone https://github.com/golang/net.git $GOPATH/src/golang.org/x/net \
    && git clone --recursive https://github.com/golang/text.git $GOPATH/src/golang.org/x/text \
    && git clone --recursive https://github.com/golang/tools.git $GOPATH/src/golang.org/x/tools \
    && git clone --recursive https://github.com/golang/sys.git $GOPATH/src/golang.org/x/sys \
    && git clone --recursive https://github.com/golang/crypto.git $GOPATH/src/golang.org/x/crypto \
    && git clone --recursive https://github.com/golang/time.git $GOPATH/src/golang.org/x/time \
    && git clone --recursive https://github.com/golang/protobuf.git $GOPATH/src/github.com/golang/protobuf \
    && git clone --recursive https://github.com/golang/snappy.git $GOPATH/src/github.com/golang/snappy \
    && git clone --recursive https://github.com/grpc-ecosystem/go-grpc-prometheus.git $GOPATH/src/github.com/grpc-ecosystem/go-grpc-prometheus \
    && git clone --recursive https://github.com/bsm/sarama-cluster.git $GOPATH/src/github.com/bsm/sarama-cluster \
    && git clone --recursive https://github.com/PuerkitoBio/purell.git $GOPATH/src/github.com/PuerkitoBio/purell \
    && git clone --recursive https://github.com/PuerkitoBio/urlesc.git $GOPATH/src/github.com/PuerkitoBio/urlesc \
    && git clone --recursive https://github.com/json-iterator/go.git $GOPATH/src/github.com/json-iterator/go \
    && git clone --recursive https://github.com/miekg/dns.git $GOPATH/src/github.com/miekg/dns \
    && git clone --recursive https://github.com/gin-gonic/gin.git $GOPATH/src/github.com/gin-gonic/gin \
    && git clone --recursive https://github.com/emirpasic/gods.git $GOPATH/src/github.com/emirpasic/gods \
    && git clone --recursive https://github.com/QcloudApi/qcloud_sign_golang.git $GOPATH/src/github.com/QcloudApi/qcloud_sign_golang \
    && git clone --recursive https://github.com/parnurzeal/gorequest.git $GOPATH/src/github.com/parnurzeal/gorequest \
    && git clone --recursive https://github.com/globalsign/mgo.git $GOPATH/src/github.com/globalsign/mgo \
    && git clone --recursive https://github.com/julienschmidt/httprouter.git $GOPATH/src/github.com/julienschmidt/httprouter \
    && git clone --recursive https://github.com/mitchellh/mapstructure.git $GOPATH/src/github.com/mitchellh/mapstructure \
    && git clone --recursive https://github.com/hashicorp/go-multierror.git $GOPATH/src/github.com/hashicorp/go-multierror \
    && git clone --recursive https://github.com/hashicorp/go-uuid.git $GOPATH/src/github.com/hashicorp/go-uuid \
    && git clone --recursive https://github.com/hashicorp/errwrap.git $GOPATH/src/github.com/hashicorp/errwrap \
    && git clone --recursive https://github.com/hashicorp/go-immutable-radix.git $GOPATH/src/github.com/hashicorp/go-immutable-radix \
    && git clone --recursive https://github.com/hashicorp/hcl.git $GOPATH/src/github.com/hashicorp/hcl \
    && git clone --recursive https://github.com/hashicorp/golang-lru.git $GOPATH/src/github.com/hashicorp/golang-lru \
    && git clone --recursive https://github.com/DataDog/zstd.git $GOPATH/src/github.com/DataDog/zstd \
    && git clone --recursive https://github.com/go-openapi/spec.git $GOPATH/src/github.com/go-openapi/spec \
    && git clone --recursive https://github.com/go-openapi/jsonreference.git $GOPATH/src/github.com/go-openapi/jsonreference \
    && git clone --recursive https://github.com/go-openapi/swag.git $GOPATH/src/github.com/go-openapi/swag \
    && git clone --recursive https://github.com/go-openapi/jsonpointer.git $GOPATH/src/github.com/go-openapi/jsonpointer \
    && git clone --recursive https://github.com/axgle/mahonia.git $GOPATH/src/github.com/axgle/mahonia \
    && git clone --recursive https://github.com/fsnotify/fsnotify.git $GOPATH/src/github.com/fsnotify/fsnotify \
    && git clone --recursive https://github.com/pierrec/lz4.git $GOPATH/src/github.com/pierrec/lz4 \
    && git clone --recursive https://github.com/spf13/afero.git $GOPATH/src/github.com/spf13/afero \
    && git clone --recursive https://github.com/spf13/jwalterweatherman.git $GOPATH/src/github.com/spf13/jwalterweatherman \
    && git clone --recursive https://github.com/spf13/pflag.git $GOPATH/src/github.com/spf13/pflag \
    && git clone --recursive https://github.com/spf13/viper.git $GOPATH/src/github.com/spf13/viper \
    && git clone --recursive https://github.com/spf13/cast.git $GOPATH/src/github.com/spf13/cast \
    && git clone --recursive https://github.com/smallnest/rpcx.git $GOPATH/src/github.com/smallnest/rpcx \
    && git clone --recursive https://github.com/go-xorm/core.git $GOPATH/src/github.com/go-xorm/core \
    && git clone --recursive https://github.com/go-xorm/xorm.git $GOPATH/src/github.com/go-xorm/xorm \
    && git clone --recursive https://github.com/go-xorm/builder.git $GOPATH/src/github.com/go-xorm/builder \
    && git clone --recursive https://github.com/edwingeng/doublejump.git $GOPATH/src/github.com/edwingeng/doublejump \
    && git clone --recursive https://github.com/matttproud/golang_protobuf_extensions.git $GOPATH/src/github.com/matttproud/golang_protobuf_extensions \
    && git clone --recursive https://github.com/satori/go.uuid.git $GOPATH/src/github.com/satori/go.uuid \
    && git clone --recursive https://github.com/klauspost/compress.git $GOPATH/src/github.com/klauspost/compress \
    && git clone --recursive https://github.com/openzipkin-contrib/zipkin-go-opentracing.git $GOPATH/src/github.com/openzipkin-contrib/zipkin-go-opentracing \
    && git clone --recursive https://github.com/mattn/go-isatty.git $GOPATH/src/github.com/mattn/go-isatty \
    && git clone --recursive https://github.com/tencentyun/cos-go-sdk-v5.git $GOPATH/src/github.com/tencentyun/cos-go-sdk-v5 \
    && git clone --recursive https://github.com/rcrowley/go-metrics.git $GOPATH/src/github.com/rcrowley/go-metrics \
    && git clone --recursive https://github.com/grandcat/zeroconf.git $GOPATH/src/github.com/grandcat/zeroconf \
    && git clone --recursive https://github.com/gogo/protobuf.git $GOPATH/src/github.com/gogo/protobuf \
    && git clone --recursive https://github.com/magiconair/properties.git $GOPATH/src/github.com/magiconair/properties \
    && git clone --recursive https://github.com/influxdata/influxdb1-client.git $GOPATH/src/github.com/influxdata/influxdb1-client \
    && git clone --recursive https://github.com/prometheus/client_golang.git $GOPATH/src/github.com/prometheus/client_golang \
    && git clone --recursive https://github.com/prometheus/common.git $GOPATH/src/github.com/prometheus/common \
    && git clone --recursive https://github.com/prometheus/client_model.git $GOPATH/src/github.com/prometheus/client_model \
    && git clone --recursive https://github.com/prometheus/procfs.git $GOPATH/src/github.com/prometheus/procfs \
    && git clone --recursive https://github.com/qiniu/x.git $GOPATH/src/github.com/qiniu/x \
    && git clone --recursive https://github.com/qiniu/api.v7.git $GOPATH/src/github.com/qiniu/api.v7 \
    && git clone --recursive https://github.com/mailru/easyjson.git $GOPATH/src/github.com/mailru/easyjson \
    && git clone --recursive https://github.com/juju/ratelimit.git $GOPATH/src/github.com/juju/ratelimit \
    && git clone --recursive https://github.com/moul/http2curl.git $GOPATH/src/github.com/moul/http2curl \
    && git clone --recursive https://github.com/astaxie/beego.git $GOPATH/src/github.com/astaxie/beego \
    && git clone --recursive https://github.com/gomodule/redigo.git $GOPATH/src/github.com/gomodule/redigo \
    && git clone --recursive https://github.com/soheilhy/cmux.git $GOPATH/src/github.com/soheilhy/cmux \
    && git clone --recursive https://github.com/beorn7/perks.git $GOPATH/src/github.com/beorn7/perks \
    && git clone --recursive https://github.com/valyala/fastrand.git $GOPATH/src/github.com/valyala/fastrand \
    && git clone --recursive https://github.com/modern-go/concurrent.git $GOPATH/src/github.com/modern-go/concurrent \
    && git clone --recursive https://github.com/modern-go/reflect2.git $GOPATH/src/github.com/modern-go/reflect2 \
    && git clone --recursive https://github.com/lestrrat-go/file-rotatelogs.git $GOPATH/src/github.com/lestrrat-go/file-rotatelogs \
    && git clone --recursive https://github.com/lestrrat-go/strftime.git $GOPATH/src/github.com/lestrrat-go/strftime \
    && git clone --recursive https://github.com/gin-contrib/sse.git $GOPATH/src/github.com/gin-contrib/sse \
    && git clone --recursive https://github.com/gin-contrib/gzip.git $GOPATH/src/github.com/gin-contrib/gzip \
    && git clone --recursive https://github.com/pkg/errors.git $GOPATH/src/github.com/pkg/errors \
    && git clone --recursive https://github.com/rifflock/lfshook.git $GOPATH/src/github.com/rifflock/lfshook \
    && git clone --recursive https://github.com/alecthomas/template.git $GOPATH/src/github.com/alecthomas/template \
    && git clone --recursive https://github.com/fatih/color.git $GOPATH/src/github.com/fatih/color \
    && git clone --recursive https://github.com/eclipse/paho.mqtt.golang.git $GOPATH/src/github.com/eclipse/paho.mqtt.golang \
    && git clone --recursive https://github.com/go-logfmt/logfmt.git $GOPATH/src/github.com/go-logfmt/logfmt \
    && git clone --recursive https://github.com/yaotian/gowechat.git $GOPATH/src/github.com/yaotian/gowechat \
    && git clone --recursive https://github.com/tealeg/xlsx.git $GOPATH/src/github.com/tealeg/xlsx \
    && git clone --recursive https://github.com/eapache/go-resiliency.git $GOPATH/src/github.com/eapache/go-resiliency \
    && git clone --recursive https://github.com/eapache/queue.git $GOPATH/src/github.com/eapache/queue \
    && git clone --recursive https://github.com/eapache/go-xerial-snappy.git $GOPATH/src/github.com/eapache/go-xerial-snappy \
    && git clone --recursive https://github.com/gorilla/websocket.git $GOPATH/src/github.com/gorilla/websocket \
    && git clone --recursive https://github.com/opentracing-contrib/go-observer.git $GOPATH/src/github.com/opentracing-contrib/go-observer \
    && git clone --recursive https://github.com/KyleBanks/depth.git $GOPATH/src/github.com/KyleBanks/depth \
    && git clone --recursive https://github.com/cenkalti/backoff.git $GOPATH/src/github.com/cenkalti/backoff \
    && git clone --recursive https://github.com/mwitkow/go-grpc-middleware.git $GOPATH/src/github.com/mwitkow/go-grpc-middleware \
    && git clone --recursive https://github.com/vmihailenco/msgpack.git $GOPATH/src/github.com/vmihailenco/msgpack \
    && git clone --recursive https://github.com/kataras/iris.git $GOPATH/src/github.com/kataras/iris \
    && git clone --recursive https://github.com/kavu/go_reuseport.git $GOPATH/src/github.com/kavu/go_reuseport \
    && git clone --recursive https://github.com/ricardolonga/jsongo.git $GOPATH/src/github.com/ricardolonga/jsongo \
    && git clone --recursive https://github.com/dgryski/go-jump.git $GOPATH/src/github.com/dgryski/go-jump \
    && git clone --recursive https://github.com/rubyist/circuitbreaker.git $GOPATH/src/github.com/rubyist/circuitbreaker \
    && git clone --recursive https://github.com/pelletier/go-toml.git $GOPATH/src/github.com/pelletier/go-toml \
    && git clone --recursive https://github.com/koangel/grapeTimer.git $GOPATH/src/github.com/koangel/grapeTimer \
    && git clone --recursive https://github.com/chasex/redis-go-cluster.git $GOPATH/src/github.com/chasex/redis-go-cluster \
    && git clone --recursive https://github.com/mna/redisc.git $GOPATH/src/github.com/mna/redisc \
    && git clone --recursive https://github.com/dgrijalva/jwt-go.git $GOPATH/src/github.com/dgrijalva/jwt-go \
    && git clone --recursive https://github.com/go-sql-driver/mysql.git $GOPATH/src/github.com/go-sql-driver/mysql \
    && git clone --recursive https://github.com/ugorji/go.git $GOPATH/src/github.com/ugorji/go \
    && git clone --recursive https://github.com/robfig/cron.git $GOPATH/src/github.com/robfig/cron \
    && git clone --recursive https://github.com/cbroglie/mustache.git $GOPATH/src/github.com/cbroglie/mustache \
    && git clone --recursive https://github.com/jcmturner/gofork.git $GOPATH/src/github.com/jcmturner/gofork \
    && git clone --recursive https://github.com/swaggo/gin-swagger.git $GOPATH/src/github.com/swaggo/gin-swagger \
    && git clone --recursive https://github.com/swaggo/swag.git $GOPATH/src/github.com/swaggo/swag \
    && git clone --recursive https://github.com/uber/jaeger-client-go.git $GOPATH/src/github.com/uber/jaeger-client-go \
    && git clone --recursive https://github.com/uber/jaeger-lib.git $GOPATH/src/github.com/uber/jaeger-lib \
    && git clone --recursive https://github.com/Shopify/sarama.git $GOPATH/src/github.com/Shopify/sarama \
    && git clone --recursive https://github.com/facebookgo/clock.git $GOPATH/src/github.com/facebookgo/clock \
    && git clone --recursive https://github.com/cenk/backoff.git $GOPATH/src/github.com/cenk/backoff \
    && git clone --recursive https://github.com/xlstudio/wxbizdatacrypt.git $GOPATH/src/github.com/xlstudio/wxbizdatacrypt \
    && git clone --recursive https://github.com/apache/thrift.git $GOPATH/src/github.com/apache/thrift \
    && git clone --recursive https://github.com/aliyun/aliyun-oss-go-sdk.git $GOPATH/src/github.com/aliyun/aliyun-oss-go-sdk \
    && git clone --recursive https://github.com/cabins/Go_AES_ECB.git $GOPATH/src/github.com/cabins/Go_AES_ECB \
    && git clone --recursive https://github.com/davecgh/go-spew.git $GOPATH/src/github.com/davecgh/go-spew \
    && git clone --recursive https://github.com/lockTP/go-metrics.git $GOPATH/src/github.com/lockTP/go-metrics \
    && git clone --recursive https://github.com/bitly/go-simplejson.git $GOPATH/src/github.com/bitly/go-simplejson \
    && git clone --recursive https://github.com/opentracing/opentracing-go.git $GOPATH/src/github.com/opentracing/opentracing-go \
    && git clone --recursive https://github.com/sirupsen/logrus.git $GOPATH/src/github.com/sirupsen/logrus \
    && git clone --recursive https://google.golang.org/genproto.git $GOPATH/src/google.golang.org/genproto \
    && git clone --recursive https://google.golang.org/grpc.git $GOPATH/src/google.golang.org/grpc \
    && git clone --recursive https://gopkg.in/gemnasium/logrus-graylog-hook.v2.git $GOPATH/src/gopkg.in/gemnasium/logrus-graylog-hook.v2 \
    && git clone --recursive https://gopkg.in/yaml.v2.git $GOPATH/src/gopkg.in/yaml.v2 \
    && git clone --recursive https://gopkg.in/jcmturner/gokrb5.v7.git $GOPATH/src/gopkg.in/jcmturner/gokrb5.v7 \
    && git clone --recursive https://gopkg.in/jcmturner/rpc.v1.git $GOPATH/src/gopkg.in/jcmturner/rpc.v1 \
    && git clone --recursive https://gopkg.in/jcmturner/dnsutils.v1.git $GOPATH/src/gopkg.in/jcmturner/dnsutils.v1 \
    && git clone --recursive https://gopkg.in/jcmturner/aescts.v1.git $GOPATH/src/gopkg.in/jcmturner/aescts.v1 \
    && git clone --recursive https://gopkg.in/go-playground/validator.v8.git $GOPATH/src/gopkg.in/go-playground/validator.v8 \
    && git clone --recursive https://xorm.io/core.git $GOPATH/src/xorm.io/core \
    && git clone --recursive https://xorm.io/builder.git $GOPATH/src/xorm.io/builder \
    && git clone --recursive https://go.opencensus.io.git $GOPATH/src/go.opencensus.io \
    && git clone --recursive https://qiniupkg.com/x.git $GOPATH/src/qiniupkg.com/x \
    && cd $GOPATH/src/ \
    && go install golang.org/x/text \
    && git clone --recursive https://github.com/census-instrumentation/opencensus-go $GOPATH/src/go.opencensus.io \
    && go get -v github.com/apache/thrift/lib/go/thrift github.com/fatih/color github.com/gogo/protobuf/proto github.com/hashicorp/go-multierror github.com/hashicorp/golang-lru github.com/influxdata/influxdb1-client github.com/juju/ratelimit github.com/julienschmidt/httprouter github.com/kavu/go_reuseport github.com/opentracing/opentracing-go github.com/opentracing/opentracing-go/ext github.com/opentracing/opentracing-go/log github.com/rubyist/circuitbreaker github.com/soheilhy/cmux github.com/valyala/fastrand github.com/vmihailenco/msgpack go.opencensus.io/trace \
    && go get -u -v github.com/smallnest/rpcx/...
ENV LANG zh_CN.UTF-8

CMD ["/bin/bash"]
